---
import type { CollectionEntry } from 'astro:content';
import '../styles/grid.css';

interface Props {
	post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { title, description, width } = post.data;
---

<a 
	href={`/post/${post.id}`}
	class="blog-card"
	style={`--grid-width: ${width}`}
	data-astro-prefetch="viewport"
>
	<div class="card-content">
		<h3>{title}</h3>
		<p>{description}</p>
		<div class="card-footer">
			<span class="read-more">READ âž”</span>
		</div>
	</div>
</a>

<style>
	.blog-card {
		display: block;
		grid-column: span var(--grid-width, 1);
		height: 100%;
		text-decoration: none;
		color: inherit;
		background: #fff;
		border: 4px solid #000;
		position: relative;
		overflow: hidden;
		cursor: pointer;
		transition: all 0.15s ease;
		padding: 1.5rem;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3);
	}

	.blog-card:hover {
		transform: translate(-2px, -2px);
		box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.3);
		background: #fffacd;
	}

	.blog-card:active {
		transform: translate(1px, 1px);
		box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3);
	}

	.card-content {
		position: relative;
		z-index: 2;
		display: flex;
		flex-direction: column;
		height: 100%;
		gap: 1rem;
	}

	.blog-card h3 {
		margin: 0;
		font-size: 1.25rem;
		font-weight: 900;
		color: #dc143c;
		font-family: var(--font-comic);
		letter-spacing: 0.02em;
		text-shadow: 2px 2px 0 #ffd700;
	}

	.blog-card p {
		margin: 0;
		flex-grow: 1;
		font-size: 0.95rem;
		color: #1a1a1a;
		line-height: 1.5;
		font-family: Georgia, serif;
	}

	.card-footer {
		display: flex;
		align-items: center;
		justify-content: space-between;
		margin-top: auto;
		padding-top: 1rem;
		border-top: 3px solid #000;
	}

	.read-more {
		font-size: 0.85rem;
		font-weight: 900;
		color: #000;
		font-family: var(--font-comic);
		letter-spacing: 0.05em;
	}

	.blog-card:hover .read-more {
		color: #dc143c;
	}
</style>
